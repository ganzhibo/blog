<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><script src="/js/clientworker.js"></script><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>为Hexo添加Github样式代码高亮 | Xlenco</title><meta name="keywords" content="Hexo,Github"><meta name="author" content="Xlenco"><meta name="copyright" content="Xlenco"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前言 本教程测试环境为 Vercel    你需要 Github 账号并获取 Personal access tokens，并在 Vercel 中的 Environment Variables 中添加   获取 Github Personal access tokens 具体教程可查看下方文章  点击查看https:&#x2F;&#x2F;xlenco.eu.org&#x2F;posts&#x2F;77e3.html 正文1. 安装"><meta property="og:type" content="article"><meta property="og:title" content="为Hexo添加Github样式代码高亮"><meta property="og:url" content="https://xlenco.eu.org/posts/8fce.html"><meta property="og:site_name" content="Xlenco"><meta property="og:description" content="前言 本教程测试环境为 Vercel    你需要 Github 账号并获取 Personal access tokens，并在 Vercel 中的 Environment Variables 中添加   获取 Github Personal access tokens 具体教程可查看下方文章  点击查看https:&#x2F;&#x2F;xlenco.eu.org&#x2F;posts&#x2F;77e3.html 正文1. 安装"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://xlenco.onmicrosoft.cn/img/Screenshot_20220903_125917_XPmKbJZQG.jpg?ik-sdk-version=javascript-1.4.3&updatedAt=1662185344028"><meta property="article:published_time" content="2022-09-03T06:26:00.000Z"><meta property="article:modified_time" content="2022-09-03T07:10:00.000Z"><meta property="article:author" content="Xlenco"><meta property="article:tag" content="Hexo"><meta property="article:tag" content="Github"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://xlenco.onmicrosoft.cn/img/Screenshot_20220903_125917_XPmKbJZQG.jpg?ik-sdk-version=javascript-1.4.3&updatedAt=1662185344028"><link rel="shortcut icon" href="https://xlenco.onmicrosoft.cn/img/favicon.ico"><link rel="canonical" href="https://xlenco.eu.org/posts/8fce"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"CE9M4IN0HW",apiKey:"1752a7306752d7764efbad19f907367b",indexName:"my-hexo-blog",hits:{per_page:8},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:300},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#5b83f5",bgDark:"#414042",position:"top-center"},source:{justifiedGallery:{js:"https://jsd.onmicrosoft.cn/npm/flickr-justified-gallery@latest/dist/fjGallery.min.js",css:"https://jsd.onmicrosoft.cn/npm/flickr-justified-gallery@latest/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"为Hexo添加Github样式代码高亮",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2022-09-03 15:10:00"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><script defer charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script defer src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script><script defer src="/js/51la.js"></script><script data-pjax src="https://npm.elemecdn.com/jquery@3.2.1/dist/jquery.min.js"></script><link rel="stylesheet" href="https://at.alicdn.com/t/c/font_3687736_4tduk6kpt8i.css" media="defer" onload='this.media="all"'><meta name="referrer" content="no-referrer"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.min.css" media="defer" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.min.js"></script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Xlenco" type="application/atom+xml"><link rel="alternate" href="/rss.xml" title="Xlenco" type="application/rss+xml"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img" src="https://xlenco.onmicrosoft.cn/img/head.webp" data-lazy-src="https://xlenco.onmicrosoft.cn/img/head.webp"></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://xlenco.onmicrosoft.cn/img/head.webp" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">35</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-book"></i> <span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></li><li><a class="site-page child" href="/random/"><i class="fa-fw fas fa-shoe-prints"></i> <span>随便逛逛</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-bars"></i> <span>社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://travellings.cn/"><i class="fa-fw fas fa-train-subway"></i> <span>开往</span></a></li><li><a class="site-page child" href="/fcircle/"><i class="fa-fw fas fa-user-group"></i> <span>朋友圈</span></a></li><li><a class="site-page child" href="/essay/"><i class="fa-fw fas fa-comment-dots"></i> <span>即刻短文</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-user"></i> <span>关于我</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-cookie-bite"></i> <span>娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/album/"><i class="fa-fw fas fa-images"></i> <span>相册</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://yesplaymusic.xlenco.eu.org/"><i class="fa-fw fas fa-music"></i> <span>YesPlayMusic</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://mikutap.xlenco.eu.org/"><i class="fa-fw fas fa-gamepad"></i> <span>Mikutap</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-screwdriver-wrench"></i> <span>Tool</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://uptime.xilej.repl.co/"><i class="fa-fw fas fa-link"></i> <span>监控云台</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://pic.xlenco.eu.org/"><i class="fa-fw fa-solid fa-image"></i> <span>Pic Tools</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('https://xlenco.onmicrosoft.cn/img/Screenshot_20220903_125917_XPmKbJZQG.jpg?ik-sdk-version=javascript-1.4.3&amp;updatedAt=1662185344028')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Xlenco</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span></span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-book"></i> <span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></li><li><a class="site-page child" href="/random/"><i class="fa-fw fas fa-shoe-prints"></i> <span>随便逛逛</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-bars"></i> <span>社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://travellings.cn/"><i class="fa-fw fas fa-train-subway"></i> <span>开往</span></a></li><li><a class="site-page child" href="/fcircle/"><i class="fa-fw fas fa-user-group"></i> <span>朋友圈</span></a></li><li><a class="site-page child" href="/essay/"><i class="fa-fw fas fa-comment-dots"></i> <span>即刻短文</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-user"></i> <span>关于我</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-cookie-bite"></i> <span>娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/album/"><i class="fa-fw fas fa-images"></i> <span>相册</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://yesplaymusic.xlenco.eu.org/"><i class="fa-fw fas fa-music"></i> <span>YesPlayMusic</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://mikutap.xlenco.eu.org/"><i class="fa-fw fas fa-gamepad"></i> <span>Mikutap</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-screwdriver-wrench"></i> <span>Tool</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://uptime.xilej.repl.co/"><i class="fa-fw fas fa-link"></i> <span>监控云台</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://pic.xlenco.eu.org/"><i class="fa-fw fa-solid fa-image"></i> <span>Pic Tools</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">为Hexo添加Github样式代码高亮</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-03T06:26:00.000Z" title="发表于 2022-09-03 14:26:00">2022-09-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-09-03T07:10:00.000Z" title="更新于 2022-09-03 15:10:00">2022-09-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%99%E7%A8%8B/">教程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">1.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>8分钟</span></span><span class="post-meta-separator">|</span><span data-flag-title="为Hexo添加Github样式代码高亮"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/posts/8fce.html#post-comment"><span id="twikoo-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><img src="https://ik.imagekit.io/xlenco/img/Screenshot_20220903_125917_XPmKbJZQG.jpg?ik-sdk-version=javascript-1.4.3&amp;updatedAt=1662185344028" alt=""></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><div class="note danger modern"><ol><li>本教程测试环境为 Vercel</li></ol></div><div class="note danger modern"><ol><li>你需要 Github 账号并获取 Personal access tokens，并在 Vercel 中的 Environment Variables 中添加</li></ol></div><div class="note danger modern"><p>获取 Github Personal access tokens 具体教程可查看下方文章</p></div><div class="tag link"><a class="link-card" title="点击查看" href="https://xlenco.eu.org/posts/77e3.html"><div class="left"><img src="https://xlenco.eu.org/img/head.webp"></div><div class="right"><p class="text">点击查看</p><p class="url">https://xlenco.eu.org/posts/77e3.html</p></div></a></div><h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><h4 id="1-安装-npm-依赖"><a href="#1-安装-npm-依赖" class="headerlink" title="1. 安装 npm 依赖"></a>1. 安装 npm 依赖</h4><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install crypto  <span class="hljs-comment">--save</span><br>npm install xmlhttprequest  <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><h4 id="2-检查-config-yml中Writing是否为以下配置"><a href="#2-检查-config-yml中Writing是否为以下配置" class="headerlink" title="2. 检查_config.yml中Writing是否为以下配置"></a>2. 检查<code>_config.yml</code>中<code>Writing</code>是否为以下配置</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">highlight:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">line_number:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">auto_detect:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">tab_replace:</span> <span class="hljs-string">&#x27;&#x27;</span><br>  <span class="hljs-attr">wrap:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">hljs:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">prismjs:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">preprocess:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">line_number:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">tab_replace:</span> <span class="hljs-string">&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><p>这里将 highlight 和 prismjs 关闭即可</p><h4 id="3-在-blogroot-scripts处新建-tools-js"><a href="#3-在-blogroot-scripts处新建-tools-js" class="headerlink" title="3.在{blogroot}/scripts处新建 tools.js"></a>3.在<code>&#123;blogroot&#125;/scripts</code>处新建 tools.js</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><code class="hljs awk">var XMLHttpRequest = require(<span class="hljs-string">&quot;xmlhttprequest&quot;</span>).XMLHttpRequest;<br>const crypto = require(<span class="hljs-string">&#x27;crypto&#x27;</span>);<br>const &#123; <span class="hljs-keyword">exit</span> &#125; = require(<span class="hljs-string">&#x27;process&#x27;</span>);<br>const log = require(<span class="hljs-string">&#x27;hexo-log&#x27;</span>)(&#123;<br>    debug: false,<br>    silent: false<br>  &#125;)<br><span class="hljs-regexp">//</span> 从环境变量里面拿到github token<br>const github_token = process.env.GITHUB_TOKEN;<br><br><span class="hljs-regexp">//</span> 找出来所有的描述<br>var pages = <span class="hljs-number">1</span>;<br>var XMLHttpRequest = require(<span class="hljs-string">&quot;xmlhttprequest&quot;</span>).XMLHttpRequest;<br>const crypto = require(<span class="hljs-string">&#x27;crypto&#x27;</span>);<br>const &#123; <span class="hljs-keyword">exit</span> &#125; = require(<span class="hljs-string">&#x27;process&#x27;</span>);<br>const log = require(<span class="hljs-string">&#x27;hexo-log&#x27;</span>)(&#123;<br>    debug: false,<br>    silent: false<br>  &#125;)<br><span class="hljs-regexp">//</span> 从环境变量里面拿到github token<br>const github_token = process.env.GITHUB_TOKEN;<br><br><span class="hljs-regexp">//</span> 找出来所有的描述<br>var pages = <span class="hljs-number">1</span>;<br>var is_end = false;<br>var page_list = [];<br>var id_list = [];<br><span class="hljs-regexp">//</span> <span class="hljs-keyword">for</span> 循环找出所有gist<br><span class="hljs-keyword">while</span> (!is_end) &#123;<br>    <span class="hljs-regexp">//</span> 首先获取到全部的gist<br>    var request = new XMLHttpRequest();<br>    log.info(`GIST: 正在查找第<span class="hljs-variable">$&#123;pages&#125;</span>页`)<br>    request.open(<span class="hljs-string">&quot;GET&quot;</span>, <span class="hljs-string">&quot;https://api.github.com/gists?per_page=100&quot;</span> + `&amp;page=<span class="hljs-variable">$&#123;pages&#125;</span>`, false);<br>    request.setRequestHeader(<span class="hljs-string">&quot;Content-Type&quot;</span>, <span class="hljs-string">&quot;application/json&quot;</span>);<br>    request.setRequestHeader(<span class="hljs-string">&quot;Authorization&quot;</span>, <span class="hljs-string">&quot;token &quot;</span> + github_token);<br>    request.send(null);<br>    data_json = JSON.parse(request.responseText);<br>    <span class="hljs-regexp">//</span> 如果没有gist就结束<br>    <span class="hljs-keyword">if</span> (data_json.length == <span class="hljs-number">0</span>) &#123;<br>        is_end = true;<br>        <span class="hljs-keyword">break</span>;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-regexp">//</span> 如果有gist就把gist加入到page_list<br>        data_json.forEach(element =&gt; &#123;<br>            page_list.push(element[<span class="hljs-string">&quot;description&quot;</span>]);<br>            id_list.push(element[<span class="hljs-string">&quot;id&quot;</span>]);<br>        &#125;);<br>        pages = pages + <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-regexp">//</span> scripts/plantuml.js<br>const rBacktick = <span class="hljs-regexp">/^((?:[^\S\r\n]*&gt;)&#123;0,3&#125;[^\S\r\n]*)(`&#123;3,&#125;|~&#123;3,&#125;)[^\S\r\n]*((?:.*?[^`\s])?)[^\S\r\n]*\n((?:[\s\S]*?\n)?)(?:(?:[^\S\r\n]*&gt;)&#123;0,3&#125;[^\S\r\n]*)\2[^\S\r\n]?(\n+|$)/gm</span>;<br><span class="hljs-regexp">//</span> 另一种正则：```(\w+?\n)([\s\S]+?)```<br><br>hexo.extend.filter.register(<span class="hljs-string">&#x27;before_post_render&#x27;</span>, <span class="hljs-keyword">function</span> (data) &#123;<br>    const dataContent = data.content;<br>    <span class="hljs-keyword">if</span> ((!dataContent.includes(<span class="hljs-string">&#x27;```&#x27;</span>) &amp;&amp; !dataContent.includes(<span class="hljs-string">&#x27;~~~&#x27;</span>))) return;<br><br>    data.content = dataContent.replace(rBacktick, (match, start, <span class="hljs-variable">$2</span>, _args, _content, end) =&gt; &#123;<br>        let gh_content = _content<br>            .replace(<span class="hljs-regexp">/\n$/</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br>            .replace(<span class="hljs-regexp">/^&gt;\s/mg</span>, <span class="hljs-string">&#x27;&#x27;</span>);<br>        <span class="hljs-regexp">//</span> 如果有 _args 就用 _args 如果没有就默认为js<br>        let lang = _args ? _args : <span class="hljs-string">&#x27;js&#x27;</span>;<br>        lang_list = &#123;<br>            <span class="hljs-string">&quot;javascript&quot;</span>: <span class="hljs-string">&quot;js&quot;</span>,<br>            <span class="hljs-string">&quot;python&quot;</span>: <span class="hljs-string">&quot;py&quot;</span>,<br>            <span class="hljs-string">&quot;SQL&quot;</span>: <span class="hljs-string">&quot;sql&quot;</span>,<br>            <span class="hljs-string">&quot;Python&quot;</span>: <span class="hljs-string">&quot;py&quot;</span>,<br>            <span class="hljs-string">&quot;JavaScript&quot;</span>: <span class="hljs-string">&quot;js&quot;</span>,<br>            <span class="hljs-string">&quot;Javascript&quot;</span>: <span class="hljs-string">&quot;js&quot;</span>,<br>            <span class="hljs-string">&quot;html&quot;</span>: <span class="hljs-string">&quot;html&quot;</span>,<br>            <span class="hljs-string">&quot;HTML&quot;</span>: <span class="hljs-string">&quot;html&quot;</span>,<br>        &#125;<br>        lang = lang_list[lang] ? lang_list[lang] : lang;<br>        const hash = crypto.createHash(<span class="hljs-string">&#x27;md5&#x27;</span>);<br>        hash.update(gh_content, <span class="hljs-string">&#x27;utf8&#x27;</span>);<br>        const md5 = hash.digest(<span class="hljs-string">&#x27;hex&#x27;</span>);<br>        process.stdout.write(<span class="hljs-string">&quot;INFO  |--MD5--|&quot;</span> + md5 + <span class="hljs-string">&quot;|----|&quot;</span>);<br>        <span class="hljs-keyword">if</span> (page_list.includes(md5)) &#123;<br>            <span class="hljs-regexp">//</span> 找到是第几个元素<br>            let index = page_list.indexOf(md5);<br>            <span class="hljs-regexp">//</span> 找到对应的id<br>            var id = id_list[index];<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-regexp">//</span> 如果没有找到就新建一个gist<br>            console.log(<span class="hljs-string">&quot;该gist不存在，新建一个gist&quot;</span>);<br>            console.log(gh_content);<br>            console.log(<span class="hljs-string">&#x27;-------------&#x27;</span>)<br>            var id = createGist(md5, gh_content, lang);<br>            console.log(<span class="hljs-string">&quot;新建gist，id：&quot;</span> + id);<br>        &#125;<br>        console.log(<span class="hljs-string">&#x27;\x1B[32m&#x27;</span>, <span class="hljs-string">&quot;|--ID--|&quot;</span> + id + <span class="hljs-string">&quot;|----|&quot;</span>)<br>        <span class="hljs-regexp">//</span> <span class="hljs-regexp">//</span> 查看这个gist的嵌入代码<br>        <span class="hljs-regexp">//</span> var request = new XMLHttpRequest();<br>        <span class="hljs-regexp">//</span> let gist_url = <span class="hljs-string">&quot;https://gist.github.com/zkeq/&quot;</span> + id + <span class="hljs-string">&quot;.js&quot;</span><br>        <span class="hljs-regexp">//</span> console.log(gist_url);<br>        <span class="hljs-regexp">//</span> request.open(<span class="hljs-string">&quot;GET&quot;</span>, gist_url, false);<br>        <span class="hljs-regexp">//</span> request.send();<br>        <span class="hljs-regexp">//</span> let gist_code = request.responseText;<br>        <span class="hljs-regexp">//</span> str = <span class="hljs-string">&quot;&lt;script&gt;&quot;</span> + gist_code + <span class="hljs-string">&quot;&lt;/script&gt;&quot;</span>;<br>            <span class="hljs-regexp">//</span> iframe_ele = document.createElement(<span class="hljs-string">&#x27;iframe&#x27;</span>);<br>            <span class="hljs-regexp">//</span> iframe_ele.style = <span class="hljs-string">&quot;border:none;width:100%;max-height:50vh&quot;</span>;<br>            <span class="hljs-regexp">//</span> iframe_ele.setAttribute(<span class="hljs-string">&quot;onload&quot;</span>, <span class="hljs-string">&quot;javascript:this.style.height=`$&#123;this.contentWindow.document.body.offsetHeight&#125;px`;this.contentWindow.document.getElementsByClassName(&#x27;gist-data&#x27;)[0].style.height=`$&#123;this.clientHeight-65&#125;px`;&quot;</span>)<br>            <span class="hljs-regexp">//</span> iframe_ele.setAttribute(<span class="hljs-string">&quot;srcdoc&quot;</span>, `&lt;head&gt;&lt;base target=<span class="hljs-string">&#x27;_blank&#x27;</span><span class="hljs-regexp">/&gt;&lt;/</span>head&gt;&lt;body&gt;&lt;script src=<span class="hljs-string">&#x27;https://gist.github.com/zkeq/$&#123;id&#125;.js&#x27;</span>&gt;&lt;<span class="hljs-regexp">/script&gt;&lt;/</span>body&gt;`)<br>        return `<br><br>&lt;iframe<br>style=<span class="hljs-string">&quot;border:none;width:100%;;max-height:66vh;&quot;</span><br>onload=<span class="hljs-string">&quot;javascript:this.style.height=\`\$&#123;this.contentWindow.document.body.offsetHeight+20&#125;px\`;this.contentWindow.document.getElementsByClassName(&#x27;gist-data&#x27;)[0].style.height=\`\$&#123;this.clientHeight-55&#125;px\`;&quot;</span><br>srcdoc=<span class="hljs-string">&#x27;&lt;meta name=&quot;description&quot; content=&quot;Instantly share code, notes, and snippets. You can&amp;#39;t perform that action at this time. You signed in with another tab or window. You signed out in another tab or window. Reload to refresh your session. Reload to refresh your session.&quot;&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;&lt;meta name=&quot;twitter:widgets:csp&quot; content=&quot;on&quot;&gt;&lt;meta name=&quot;robots&quot; content=&quot;noindex&quot;&gt;&lt;base target=&quot;_blank&quot;&gt;&lt;style&gt;body &#123;text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-family: &quot;ff-tisa-web-pro&quot;, Georgia, Cambria, &quot;Times New Roman&quot;, Times, serif; font-weight: 400; color: #333332; font-size: 18px; line-height: 1.4; margin: 0; background-color: white; overflow: hidden;&#125;iframe &#123;max-width: 100%;&#125;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;style&gt;.gist .gist-file &#123; margin-bottom: 0 !important; &#125;.gist &#123; text-rendering: auto; &#125;.gist-meta a:nth-child(2) &#123;display: none;&#125; html &#123;overflow: hidden;text-overflow: ellipsis;display: inline-block;&#125; * &#123;margin: 0&#125;&lt;/style&gt;&lt;script src=&quot;https://gist.onmicrosoft.cn/zkeq/$&#123;id&#125;.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;&lt;script&gt;var height = -1; var delayMs = 200; if (document) &#123;document.domain = document.domain;&#125;function notifyResize(height) &#123;height = height ? height : document.documentElement.offsetHeight; var resized = false; if (window.donkey &amp;&amp; donkey.resize) &#123;donkey.resize(height);var elements = document.getElementsByClassName(&quot;gist-data&quot;); for (var i = 0; i &lt; elements.length; i++) &#123;elements[i].style.overflow = &quot;visible&quot;&#125;resized = true;&#125;if (parent &amp;&amp; parent._resizeIframe) &#123;var obj = &#123;iframe: window.frameElement, height: height&#125;; parent._resizeIframe(obj); resized = true;&#125;if (window.location &amp;&amp; window.location.hash === &quot;#amp=1&quot; &amp;&amp; window.parent &amp;&amp; window.parent.postMessage) &#123;window.parent.postMessage(&#123;sentinel: &quot;amp&quot;, type: &quot;embed-size&quot;, height: height&#125;, &quot;*&quot;);&#125;if (window.webkit &amp;&amp; window.webkit.messageHandlers &amp;&amp; window.webkit.messageHandlers.resize) &#123;window.webkit.messageHandlers.resize.postMessage(height); resized = true;&#125;return resized;&#125;function maybeResize() &#123;try &#123;if (document.documentElement.offsetHeight != height &amp;&amp; notifyResize()) &#123;height = document.documentElement.offsetHeight;&#125;delayMs = Math.min(delayMs * 2, 1000000); setTimeout(maybeResize, delayMs);&#125; catch(error) &#123;console.log(&quot;maybeResize error: &quot;, error)&#125;&#125;maybeResize();&lt;/script&gt;&#x27;</span><br>&gt;<br>&lt;/iframe&gt;<br><br>`;<br>    &#125;);<br>&#125;, <span class="hljs-number">9</span>);<br><br><span class="hljs-keyword">function</span> createGist (md5, gh_content, lang)&#123;<br>    let response = <span class="hljs-string">&#x27;&#x27;</span><br>    let requestData = &#123;<br>        <span class="hljs-string">&quot;description&quot;</span>: md5,<br>        <span class="hljs-string">&quot;public&quot;</span>: false,<br>        <span class="hljs-string">&quot;files&quot;</span>: &#123;<br>            [md5 + <span class="hljs-string">&quot;.&quot;</span> + lang]: &#123;<br>                <span class="hljs-string">&quot;content&quot;</span>: gh_content<br>            &#125;<br>        &#125;<br>    &#125;;<br>    var request = new XMLHttpRequest();<br>    <span class="hljs-regexp">//</span> POST<br>    request.open(<span class="hljs-string">&quot;POST&quot;</span>, <span class="hljs-string">&quot;https://api.github.com/gists&quot;</span>, false);<br>    request.setRequestHeader(<span class="hljs-string">&quot;Content-Type&quot;</span>, <span class="hljs-string">&quot;application/json&quot;</span>);<br>    request.setRequestHeader(<span class="hljs-string">&quot;Authorization&quot;</span>, <span class="hljs-string">&quot;token &quot;</span> + github_token);<br>    request.send(JSON.stringify(requestData));<br>    response = request.responseText;<br>    <span class="hljs-regexp">//</span> 如果状态码不是<span class="hljs-number">200</span>就报错<br>    <span class="hljs-keyword">if</span> (request.status != <span class="hljs-number">201</span>) &#123;<br>        return createGist(md5, gh_content, lang);<br>    &#125;<br>    return JSON.parse(response)[<span class="hljs-string">&quot;id&quot;</span>];<br>&#125;<br><br></code></pre></td></tr></table></figure><div class="note warning modern"><p>将上文内容中的 zkeq 改为你的 Github 用户名即可</p></div><h4 id="4-在-Vercel-的-Environment-Variables-中添加变量"><a href="#4-在-Vercel-的-Environment-Variables-中添加变量" class="headerlink" title="4. 在 Vercel 的 Environment Variables 中添加变量"></a>4. 在 Vercel 的 Environment Variables 中添加变量</h4><div class="table-container"><table><thead><tr><th>VALUE</th><th>NAME</th></tr></thead><tbody><tr><td>GITHUB_TOKEN</td><td>这里写你 GITHUB_TOKEN 的内容</td></tr></tbody></table></div><div class="note info modern"><p>第一次部署可能速度较慢，请耐心等待</p></div></article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>为Hexo添加Github样式代码高亮</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://xlenco.eu.org/posts/8fce.html">https://xlenco.eu.org/posts/8fce.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a" style="display:inline-block;width:120px"><h>作者</h><div class="post-copyright-cc-info"><h>Xlenco</h></div></div><div class="post-copyright-c" style="display:inline-block;width:120px"><h>发布于</h><div class="post-copyright-cc-info"><h>2022-09-03</h></div></div><div class="post-copyright-u" style="display:inline-block;width:120px"><h>更新于</h><div class="post-copyright-cc-info"><h>2022-09-03</h></div></div><div class="post-copyright-c" style="display:inline-block;width:120px"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener external nofollow noreferrer" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener external nofollow noreferrer" target="_blank" title="CC BY 4.0" href="https://creativecommons.org/licenses/by/4.0/deed.zh">CC BY 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Hexo/">Hexo</a><a class="post-meta__tags" href="/tags/Github/">Github</a></div><div class="post_share"><div class="social-share" data-image="https://xlenco.onmicrosoft.cn/img/Screenshot_20220903_125917_XPmKbJZQG.jpg?ik-sdk-version=javascript-1.4.3&amp;updatedAt=1662185344028" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/butterfly-extsrc@latest/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://jsd.onmicrosoft.cn/npm/butterfly-extsrc@latest/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://afdian.net/@xlenco" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="/img/afdian.jpg" alt="afdian"></a><div class="post-qr-code-desc">afdian</div></li><li class="reward-item"><a href="/img/qq.png" target="_blank"><img class="post-qr-code-img" src="/img/qq.png" alt="qq"></a><div class="post-qr-code-desc">qq</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/c9b3.html"><img class="prev-cover" src="https://xlenco.onmicrosoft.cn/img/8840187_u6Y8xVR1j.jpg?ik-sdk-version=javascript-1.4.3&amp;updatedAt=1661609019485" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Yuque-hexo：实现hexo＋ 语雀 云端富文本写作</div></div></a></div><div class="next-post pull-right"><a href="/posts/f1c2.html"><img class="next-cover" src="https://xlenco.onmicrosoft.cn/Wallpaper/th.webp" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Butterfly主题添加51la统计和灵雀应用监控</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/f1c2.html" title="Butterfly主题添加51la统计和灵雀应用监控"><img class="cover" src="https://xlenco.onmicrosoft.cn/Wallpaper/th.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-03</div><div class="title">Butterfly主题添加51la统计和灵雀应用监控</div></div></a></div><div><a href="/posts/5b4d.html" title="Hexo｜博客搭建指南"><img class="cover" src="https://xlenco.onmicrosoft.cn/img/20200715201402.webp?ik-sdk-version=javascript-1.4.3&updatedAt=1663987678157" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-28</div><div class="title">Hexo｜博客搭建指南</div></div></a></div><div><a href="/posts/c9b3.html" title="Yuque-hexo：实现hexo＋ 语雀 云端富文本写作"><img class="cover" src="https://xlenco.onmicrosoft.cn/img/8840187_u6Y8xVR1j.jpg?ik-sdk-version=javascript-1.4.3&updatedAt=1661609019485" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-09</div><div class="title">Yuque-hexo：实现hexo＋ 语雀 云端富文本写作</div></div></a></div><div><a href="/posts/769f.html" title="为你的Butterfly添加顶部加载进度条"><img class="cover" src="https://xlenco.onmicrosoft.cn/img/j3m8y5.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-07</div><div class="title">为你的Butterfly添加顶部加载进度条</div></div></a></div><div><a href="/posts/77e3.html" title="利用Github Actions自动化部署你Hexo博客"><img class="cover" src="https://xlenco.onmicrosoft.cn/img/7bf185e5.webp?ik-sdk-version=javascript-1.4.3&updatedAt=1670556758388'" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-25</div><div class="title">利用Github Actions自动化部署你Hexo博客</div></div></a></div><div><a href="/posts/bdfd.html" title="给博客添加哇酷哇酷的阿尼亚鼠标指针"><img class="cover" src="https://ik.imagekit.io/nicexl/img/d7b219eca0a1dcc8b4d961cf96d3db876bb9b560_nmIj68YVP.gif?ik-sdk-version=javascript-1.4.3&updatedAt=1660653715457" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-15</div><div class="title">给博客添加哇酷哇酷的阿尼亚鼠标指针</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://xlenco.onmicrosoft.cn/img/head.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">Xlenco</div><div class="author-info__description">分享互联网各种知识,建站经验...</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">35</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/xlenco"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xlenco" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:xlenco@hotmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fa-solid fa-rss"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E6%96%87"><span class="toc-number">2.</span> <span class="toc-text">正文</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85-npm-%E4%BE%9D%E8%B5%96"><span class="toc-number">2.0.1.</span> <span class="toc-text">1. 安装 npm 依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%A3%80%E6%9F%A5-config-yml%E4%B8%ADWriting%E6%98%AF%E5%90%A6%E4%B8%BA%E4%BB%A5%E4%B8%8B%E9%85%8D%E7%BD%AE"><span class="toc-number">2.0.2.</span> <span class="toc-text">2. 检查_config.yml中Writing是否为以下配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%9C%A8-blogroot-scripts%E5%A4%84%E6%96%B0%E5%BB%BA-tools-js"><span class="toc-number">2.0.3.</span> <span class="toc-text">3.在{blogroot}&#x2F;scripts处新建 tools.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%9C%A8-Vercel-%E7%9A%84-Environment-Variables-%E4%B8%AD%E6%B7%BB%E5%8A%A0%E5%8F%98%E9%87%8F"><span class="toc-number">2.0.4.</span> <span class="toc-text">4. 在 Vercel 的 Environment Variables 中添加变量</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/aea8.html" title="解决 PDF.js 出现 file origin does not match viewer's 的解决方法"><img src="https://xlenco.onmicrosoft.cn/img/PDF-js.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="解决 PDF.js 出现 file origin does not match viewer's 的解决方法"></a><div class="content"><a class="title" href="/posts/aea8.html" title="解决 PDF.js 出现 file origin does not match viewer's 的解决方法">解决 PDF.js 出现 file origin does not match viewer's 的解决方法</a><time datetime="2022-12-09T02:18:00.000Z" title="发表于 2022-12-09 10:18:00">2022-12-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/d2e.html" title="双拼语法介绍以及选择"><img src="https://xlenco.onmicrosoft.cn/img/c65c2ec5a7f9.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="双拼语法介绍以及选择"></a><div class="content"><a class="title" href="/posts/d2e.html" title="双拼语法介绍以及选择">双拼语法介绍以及选择</a><time datetime="2022-11-25T06:26:00.000Z" title="发表于 2022-11-25 14:26:00">2022-11-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/4adb.html" title="阿里云盘福利码分享"><img src="https://xlenco.onmicrosoft.cn/img/883bbcbd511e8c7.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="阿里云盘福利码分享"></a><div class="content"><a class="title" href="/posts/4adb.html" title="阿里云盘福利码分享">阿里云盘福利码分享</a><time datetime="2022-10-30T06:26:00.000Z" title="发表于 2022-10-30 14:26:00">2022-10-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/769f.html" title="为你的Butterfly添加顶部加载进度条"><img src="https://xlenco.onmicrosoft.cn/img/j3m8y5.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="为你的Butterfly添加顶部加载进度条"></a><div class="content"><a class="title" href="/posts/769f.html" title="为你的Butterfly添加顶部加载进度条">为你的Butterfly添加顶部加载进度条</a><time datetime="2022-10-07T10:25:00.000Z" title="发表于 2022-10-07 18:25:00">2022-10-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/77f5.html" title="笔记｜HTML转跳URL实例"><img src="https://xlenco.onmicrosoft.cn/img/html.png?ik-sdk-version=javascript-1.4.3&amp;updatedAt=1665115851748" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="笔记｜HTML转跳URL实例"></a><div class="content"><a class="title" href="/posts/77f5.html" title="笔记｜HTML转跳URL实例">笔记｜HTML转跳URL实例</a><time datetime="2022-10-07T04:14:00.000Z" title="发表于 2022-10-07 12:14:00">2022-10-07</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer_deal"><a class="deal_link" href="mailto:1044865083@qq.com" rel="external nofollow noreferrer" title="mail"><i class="iconfont icon-mail"></i></a><a class="deal_link" href="https://qm.qq.com/cgi-bin/qm/qr?k=eHT6b6llnxiiT4IjuaBXvselTBWRK7-b&amp;noverify=0" rel="external nofollow noreferrer" title="qq" target="_blank"><i class="iconfont icon-qq1"></i></a> <img class="footer_mini_logo entered loading" style="border-radius:50%" src="https://xlenco.onmicrosoft.cn/img/head.webp" onclick="btf.scrollToDest(0,500)" title="返回顶部"><a class="deal_link" href="" title="Telegram" target="_blank"><i class="iconfont icon-telegram"></i></a><a class="deal_link" href="https://github.com/xlenco" rel="external nofollow noreferrer" title="github" target="_blank"><i class="iconfont icon-github1"></i></a></div><div id="Jay-footer"><div class="footer-group"><h3 class="footer-title">直达</h3><div class="footer-links"><a class="footer-item" href="/" target="_blank">我的主页</a><a class="footer-item" href="/music">音乐欣赏</a><a class="footer-item" href="/harbour">心灵港湾</a><a class="footer-item" href="/random">随机文章</a></div></div><div class="footer-group"><h3 class="footer-title">分类</h3><div class="footer-links"><a class="footer-item" href="/categories/📚学习笔记/">学习笔记</a><a class="footer-item" href="/categories/🦋魔改教程/">魔改教程</a><a class="footer-item" href="/categories/🌈算法笔记/">算法笔记</a><a class="footer-item" href="/categories/📙语法教程/">语法教程</a></div></div><div class="footer-group"><h3 class="footer-title">关于</h3><div class="footer-links"><a class="footer-item" href="/about/">关于我</a><a class="footer-item" href="/charts/">博客统计</a><a class="footer-item" href="/archives">文章归档</a><a class="footer-item" href="/update">更新记录</a></div></div><div class="footer-group"><h3 class="footer-title">友链</h3><div class="footer-links" id="friend-links-in-footer"></div></div><div class="footer-group"><h3 class="footer-title">协议</h3><div class="footer-links"><a class="footer-item" href="/privacy/">隐私协议</a><a class="footer-item" href="/cookies/">Cookie</a><a class="footer-item" href="/cc/">版权协议</a></div></div></div><div id="footer-banner"><div class="footer-banner-links"><div class="footer-banner-left"><div class="footer-banner-left"><div id="footer-banner-tips"></div><script src="https://unpkg.com/typed.js/lib/typed.min.js"></script><script>var typed=new Typed("#footer-banner-tips",{strings:["念念不忘，必有回响。","Never forget, there will be echoes."],startDelay:200,backDelay:2e3,typeSpeed:100,loop:!0,backSpeed:20})</script></div></div><div class="footer-banner-right"><a class="footer-banner-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io/zh-cn/" title="Hexo">框架</a><a class="footer-banner-link">|</a><a class="footer-banner-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly" title="theme">主题</a><a class="footer-banner-link">|</a><a class="footer-banner-link" href="/atom.xml" title="RSS">订阅</a><a class="footer-banner-link">|</a><a class="footer-banner-link" href="/about/" title="about">关于</a><a class="footer-banner-link">|</a><a class="footer-banner-link cc" href="/cc/" title="cc协议"><i class="iconfont icon-cc"></i><span>协议</span></a></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();" rel="external nofollow noreferrer"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();" rel="external nofollow noreferrer"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();" rel="external nofollow noreferrer"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();" rel="external nofollow noreferrer"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://cn.bing.com/search?q=&quot;+window.getSelection().toString());window.location.reload();" rel="external nofollow noreferrer"><i class="fa fa-magnifying-glass"></i><span>必应搜索</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();" rel="external nofollow noreferrer"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>空降评论</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()" rel="external nofollow noreferrer"><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()" rel="external nofollow noreferrer"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()" rel="external nofollow noreferrer"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="./#post-comment"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()" rel="external nofollow noreferrer"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.click()" rel="external nofollow noreferrer"><i class="fa fa-arrows-alt"></i><span>全屏显示</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="/random"><i class="fa fa-paper-plane"></i><span>随便逛逛</span></a><a class="rightMenu-item" href="javascript:rmf.switchDarkMode();" rel="external nofollow noreferrer"><i class="fa fa-moon"></i><span>昼夜切换</span><a class="rightMenu-item" href="javascript:rmf.switchReadMode();" rel="external nofollow noreferrer"><i class="fa fa-book"></i><span>阅读模式</span></a></a><a class="rightMenu-item" href="javascript:window.location.href=&quot;/about/&quot;;" rel="external nofollow noreferrer"><i class="fa fa-info-circle"></i><span>版权声明</span></a></div></div><div><script src="/js/utils.js"></script><script src="https://cdn.jsdelivr.net/npm/xlenco-blog-main/js/main.min.js"></script><script src="https://jsd.onmicrosoft.cn/npm/@fancyapps/ui@latest/dist/fancybox.umd.min.js"></script><script src="https://jsd.onmicrosoft.cn/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://jsd.onmicrosoft.cn/npm/node-snackbar@latest/dist/snackbar.min.js"></script><script src="https://jsd.onmicrosoft.cn/npm/algoliasearch@latest/dist/algoliasearch-lite.umd.min.js"></script><script src="https://jsd.onmicrosoft.cn/npm/instantsearch.js@latest/dist/instantsearch.production.min.js"></script><script src="https://cdn.jsdelivr.net/npm/xlenco-blog-main/js/search/algolia.min.js"></script><script>var preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",preloader.endLoading())</script><div class="js-pjax"><script>(()=>{const o=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.nicexl.eu.org",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null)),GLOBAL_CONFIG_SITE.isPost&&(()=>{const o=document.getElementById("twikoo-count");o&&twikoo.getCommentsCount({envId:"https://twikoo.nicexl.eu.org",region:"",urls:[window.location.pathname],includeReply:!1}).then((function(t){o.innerText=t[0].count})).catch((function(o){console.error(o)}))})()},t=()=>{"object"!=typeof twikoo?getScript("https://jsd.onmicrosoft.cn/npm/twikoo@latest/dist/twikoo.all.min.js").then(o):setTimeout(o,0)};t()})()</script></div><script async data-pjax src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script><script defer data-pjax src="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus/lib/assets/issues.min.js"></script><canvas id="universe"></canvas><script defer data-pjax src="/js/custom.js"></script><script async data-pjax src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script data-pjax src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/js/swiper.min.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax","#web_bg"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/shuoshuo/"]):not([href="/fcircle/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),"object"==typeof preloader&&preloader.initLoading(),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))</script></div><script>var fdata={apiurl:"https://fcircle.xlenco.eu.org/",initnumber:30,stepnumber:30,error_img:"https://npm.elemecdn.com/akilar-candyassets/image/404.gif"};localStorage.setItem("fdatalist",JSON.stringify(fdata))</script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-filter-fcircle-anzhiyu@1.1.2/assets/js/fetch.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-filter-fcircle-anzhiyu@1.1.2/assets/js/random-friends-post.min.js"></script></body></html><script>var flinks=["https://www.cxl2020mc.top","https://blog.justlovesmile.top","https://chen-ruo.top","https://www.chuckle.top","https://icodeq.com/","https://akilar.top","https://wzx.is-a.dev/","https://www.ciraos.top","https://zx.js.cool","https://nanaeo.cn","https://www.mrgblog.top","https://bio-w.cn/","https://blog.panghai.top","https://www.chirmyram.top","https://mletter.cn","https://blog.leonus.cn/","https://dddachui.top/","https://www.fomal.cc/","https://sady0.com","https://yisous.xyz","https://www.ttkwsd.top/","https://blog.xsnetw.cf","https://blog.eurkon.com","https://miku-39.love/","https://yswm-m.github.io","https://solitude.eu.org/","https://xlenco.github.io/pikpak/"];function toRandomFlink(){window.open(flinks[Math.floor(Math.random()*flinks.length)])}</script>